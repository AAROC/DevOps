<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>AAROC DevOps</title>
  

  <link rel="shortcut icon" href="./img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="./css/theme.css" type="text/css" />
  <link rel="stylesheet" href="./css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="./css/highlight.css">
  <link href="./site/css/base.css" rel="stylesheet">
  <link href="./site/css/bootstrap-custom.min.css" rel="stylesheet">
  <link href="./site/css/font-awesome-4.0.3.css" rel="stylesheet">
  <link href="./site/css/highlight.css" rel="stylesheet">
  <link href="./site/site/css/base.css" rel="stylesheet">
  <link href="./site/site/css/bootstrap-custom.min.css" rel="stylesheet">
  <link href="./site/site/css/font-awesome-4.0.3.css" rel="stylesheet">
  <link href="./site/site/css/highlight.css" rel="stylesheet">

  
  <script>
    // Current page data
    var mkdocs_page_name = "None";
    var mkdocs_page_input_path = "index.md";
    var mkdocs_page_url = "/";
  </script>
  
  <script src="./js/jquery-2.1.1.min.js"></script>
  <script src="./js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="./js/highlight.pack.js"></script>
  <script src="./js/theme.js"></script> 
  <script src="./site/js/base.js"></script>
  <script src="./site/js/bootstrap-3.0.3.min.js"></script>
  <script src="./site/js/highlight.pack.js"></script>
  <script src="./site/js/jquery-1.10.2.min.js"></script>
  <script src="./site/mkdocs/js/lunr-0.5.7.min.js"></script>
  <script src="./site/mkdocs/js/mustache.min.js"></script>
  <script src="./site/mkdocs/js/require.js"></script>
  <script src="./site/mkdocs/js/search.js"></script>
  <script src="./site/mkdocs/js/text.js"></script>
  <script src="./site/site/js/base.js"></script>
  <script src="./site/site/js/bootstrap-3.0.3.min.js"></script>
  <script src="./site/site/js/highlight.pack.js"></script>
  <script src="./site/site/js/jquery-1.10.2.min.js"></script>
  <script src="./site/site/mkdocs/js/lunr-0.5.7.min.js"></script>
  <script src="./site/site/mkdocs/js/mustache.min.js"></script>
  <script src="./site/site/mkdocs/js/require.js"></script>
  <script src="./site/site/mkdocs/js/search.js"></script>
  <script src="./site/site/mkdocs/js/text.js"></script>

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="." class="icon icon-home"> AAROC DevOps</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href=".">Home</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#aaroc-is-devops">AAROC is DevOps</a></li>
                
                    <li><a class="toctree-l4" href="#interoperability">Interoperability</a></li>
                
                    <li><a class="toctree-l4" href="#software-defined-infrastructure">Software-Defined Infrastructure</a></li>
                
            
                <li class="toctree-l3"><a href="#communicating-and-collaborating">Communicating and Collaborating.</a></li>
                
                    <li><a class="toctree-l4" href="#development-status-and-roadmap">Development Status and Roadmap</a></li>
                
                    <li><a class="toctree-l4" href="#contributing">Contributing</a></li>
                
            
                <li class="toctree-l3"><a href="#quickstart-guide-for-site-administrators">Quickstart guide for site administrators</a></li>
                
                    <li><a class="toctree-l4" href="#ansible">Ansible</a></li>
                
                    <li><a class="toctree-l4" href="#puppet">Puppet</a></li>
                
            
                <li class="toctree-l3"><a href="#issues">Issues</a></li>
                
            
                <li class="toctree-l3"><a href="#how-to-cite-this-work">How to cite this work</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="Playbooks/">Playbooks</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="Services/">Services</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Roles</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/">Home</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>Ansible</span></li>

        
            
    <ul class="subnav">
    <li><span>Playbooks</span></li>

        
            
    <ul class="subnav">
    <li><span>Top bdii</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/playbooks/top-bdii/">Home</a>
        
    </li>

        
    </ul>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Roles</span></li>

        
            
    <ul class="subnav">
    <li><span>Ansible executor</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/ansible-executor/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Apache web server</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/apache-web-server/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Bootstrap</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/bootstrap/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Boundary monitor</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/boundary-monitor/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Container bootstrap</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/container-bootstrap/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Cvmfs</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/cvmfs/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Cvmfs static</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/cvmfs-static/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Discourse sso</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/discourse-sso/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Emi ui</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/emi-ui/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Emi worker node</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/emi-worker-node/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Fmarco76</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/fmarco76.IDPPublic/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/fmarco76.firewall/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/fmarco76.tomcat/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Geerlingguy</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/geerlingguy.repo-epel/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Glassfish</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/glassfish/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Head node</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/head-node/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Jenkins 2</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/jenkins-2.0/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Jenkins slave</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/jenkins-slave/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Ldap</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/ldap/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Liferay csgf</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/liferay-csgf/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Liferay gridengine</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/liferay-gridengine/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Liferay mysql</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/liferay-mysql/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Mysql</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/mysql/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Perun slave</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/perun-slave/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Shibboleth idp</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/shibboleth-idp/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Shibboleth sp</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/shibboleth-sp/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Site bdii tests</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/site-bdii-tests/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Slack nagios</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/slack-nagios/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Top bdii</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/top-bdii/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Umd</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/umd/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Umd3</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/umd3/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Worker node</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/worker-node/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Xrootd</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="Roles/Ansible/roles/xrootd/">Home</a>
        
    </li>

        
    </ul>

        
    </ul>

        
    </ul>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href=".">AAROC DevOps</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".">Docs</a> &raquo;</li>
    
      
    
    <li>Home</li>
    <li class="wy-breadcrumbs-aside">
      
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p><a href="https://travis-ci.org/AAROC/DevOps"><img alt="Build Status" src="https://travis-ci.org/AAROC/DevOps.svg?branch=dev" /></a>
<!-- TOC depthFrom:1 depthTo:6 withLinks:1 updateOnSave:1 orderedList:0 --></p>
<ul>
<li><a href="#aaroc-is-devops">AAROC is DevOps</a><ul>
<li><a href="#software-defined-infrastructure">Software-Defined Infrastructure</a></li>
</ul>
</li>
<li><a href="#communicating-and-collaborating">Communicating and Collaborating.</a><ul>
<li><a href="#development-status-and-roadmap">Development Status and Roadmap</a></li>
<li><a href="#contributing">Contributing</a></li>
</ul>
</li>
<li><a href="#quickstart-guide-for-site-administrators">Quickstart guide for site administrators</a><ul>
<li><a href="#ansible">Ansible</a></li>
<li><a href="#puppet">Puppet</a></li>
</ul>
</li>
<li><a href="#issues">Issues</a></li>
<li><a href="#how-to-cite-this-work">How to cite this work</a></li>
</ul>
<!-- /TOC -->

<h1 id="aaroc-is-devops">AAROC is DevOps</h1>
<blockquote>
<p>The mission of the Africa-Arabia Regional Operations Centre is to promote and support collective, coherent and sustainable interoperability of e-Infrastructures within the region and beyond, to peer infrastructures in the rest of the world; and to act as a point of coordination and support to computational resource providers in the region, in order to promote and develop regional scientific and technical collaboration.</p>
</blockquote>
<p>The <a href="http://www.africa-grid.org">Africa-Arabia Regional Operations Centre</a> (AAROC) is an e-Infrastructure collaboration with members across Africa and the Middle East. AAROC is an resource infrastructure provider to [EGI.eu], and has signed an <a href="">Operating Level Agreement</a> with EGI.</p>
<h2 id="interoperability">Interoperability</h2>
<p>EGI provides several infrastructure services which enable interoperability :</p>
<ul>
<li><a href="http://goc.egi.eu">GOCDB</a> : The operations database, where all sites and services are defined. GOCDB provides a topology which is used by various other services, and is used to declare service states and downtimes.</li>
<li><a href="https://operations-portal.egi.eu">Operations Portal</a> : The dashboard for the <a href="https://wiki.egi.eu/wiki/Regional_Operator_on_Duty">Regional Operator on Duty</a></li>
<li><a href="http://accounting.egi.eu">Accounting Portal</a> : The accounting portal where usage by various communities is reported.</li>
</ul>
<h2 id="software-defined-infrastructure">Software-Defined Infrastructure</h2>
<! --- todo: why software-defined infrastructure is a good idea -->

<h1 id="communicating-and-collaborating">Communicating and Collaborating.</h1>
<p>We're on <a href="https://africa-arabia-roc.slack.com">Slack</a>. Come on over if you want to hang out and work with us. If you have something you want to help on, see <a href="../CONTRIBUTING.md">Contributing.md</a>. The usual <a href="https://guides.github.com/introduction/flow/index.html">workflow</a> for collaboration on Github is recommended. If you want to request documentation or guides, or would like to contrbute to the more 'meta' aspects, discuss these things with on <a href="http://discourse.sci-gaia.eu/c/devops/">the forum</a>.</p>
<h2 id="development-status-and-roadmap">Development Status and Roadmap</h2>
<p>You can see the development roadmap on the <a href="./../../milestones">project milestones</a>. Feel free to propose new milestones based on features you would like to see.</p>
<p>There is a development status board at https://waffle.io/aaroc/devops, a snapshot of the current state is below.</p>
<p><a href="http://waffle.io/aaroc/devops"><img alt="Issues Identified" src="https://badge.waffle.io/aaroc/devops.svg?label=identified&amp;title=Identified" /></a>
<a href="http://waffle.io/aaroc/devops"><img alt="Issues Diagnosed" src="https://badge.waffle.io/aaroc/devops.svg?label=diagnosed&amp;title=Diagnosed" /></a>
<a href="http://waffle.io/aaroc/devops"><img alt="Issues in Progress" src="https://badge.waffle.io/aaroc/devops.svg?&amp;label=In%20Progress&amp;title=In%20Progress" /></a>
<a href="http://waffle.io/aaroc/devops"><img alt="Issues Ready" src="https://badge.waffle.io/aaroc/devops.svg?label=ready&amp;title=Ready" /></a></p>
<h2 id="contributing">Contributing</h2>
<p>See <a href="CONTRIBUTING.md">CONTRIBUTING.md</a></p>
<h1 id="quickstart-guide-for-site-administrators">Quickstart guide for site administrators</h1>
<p>This is the repository for the DevOps code which executes AAROC infrastructure. We support Ansible and Puppet.
Site administrators have freedom of choice in managing the services at their site, as long as they</p>
<h2 id="ansible">Ansible</h2>
<p>If you would like to use Ansible to deploy your site :</p>
<ol>
<li>Clone the repository's <code>master</code> branch  : <code>git clone https://github.com/AAROC/DevOps</code></li>
<li>Create create a new branch with your site name as defined in GOCDB : <code>git branch &lt;site-name&gt;</code></li>
<li>Propose the local site configuration :
        4. <em>Inventory</em>. Contribute your inventory to  to <code>Ansible/inventories/inventory.&lt;site-name&gt;</code>. If your playbooks are very site-specific, create a subdirectory in Ansible/sites for your site as declared in the GOCDB and work there.<ol>
<li><em>Variables</em>. Create two variables files for your site in <code>Ansible/group_vars</code> :<ol>
<li><code>&lt;site-name&gt;</code>, where <code>&lt;site-name&gt;</code> is the name of your site in the GOCDB (<em>e.g.</em> za-meraka). This will contain the site-specific variables, but not sensitive information.</li>
<li><code>&lt;site-name&gt;-passwords</code> (<em>e.g.</em> <code>za-meraka-passwords</code>) : This is the site-specific variables file containing sensitive information. It should be encrypted with <code>ansible-vault</code> before being committed : <code>ansible-vault encrypt Ansible/group_vars/passwords-&lt;site-name&gt;</code>.</li>
</ol>
</li>
<li>Send a pull request to the repository so that the configuration can be checked and verified.</li>
</ol>
</li>
<li>Create your <code>&lt;site-name&gt;.yml</code>  playbook to deploy the services which you need at your site - use as many of the provided roles as you need.</li>
<li>Run ansible : <code>ansible-playbook -i inventories/inventory-&lt;site-name&gt; --ask-vault-pass &lt;site-name&gt;.yml</code></li>
</ol>
<h2 id="puppet">Puppet</h2>
<p>Contribute your code to <code>Puppet/</code> If your Puppet modules are site-specific, create a subdirectory in Puppet/sites for your site as declared in GOCDB and work there.</p>
<h1 id="issues">Issues</h1>
<p>If you have questions, comments or suggestions, please open an issue and assign it the right tag.</p>
<h1 id="how-to-cite-this-work">How to cite this work</h1>
<p><a href="http://dx.doi.org/10.5281/zenodo.11914"><img alt="DOI" src="https://zenodo.org/badge/1514/AAROC/DevOps.png" /></a></p>
<p>We like our code so much, we put a DOI on it ! If you like it, please use it, but also cite us, so that our funders will be happy.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Playbooks/" class="btn btn-neutral float-right" title="Playbooks">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
      
        <span style="margin-left: 15px"><a href="Playbooks/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>

<!--
MkDocs version : 0.15.3
Build Date UTC : 2016-05-27 13:15:03.714229
-->
